plugins {
  id 'java'
  id 'groovy'
  id 'application'
  id 'eclipse'
  id 'com.github.johnrengelman.shadow' version '1.2.3'
}

sourceCompatibility = 1.8
version = '1.0'
jar {
	manifest {
		attributes 'Implementation-Title': 'vertx-api-proxy',
		'Implementation-Version': version
	}
}

repositories { mavenCentral() }

dependencies {
	compile group: 'org.springframework.boot', name: 'spring-boot-starter', version: '1.4.0.RELEASE'
	compile group: 'org.codehaus.groovy', name: 'groovy-all', version: '2.4.7'
	compile group: 'io.vertx', name: 'vertx-web', version: '3.3.2'
	compile group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.6.2'

	testCompile group: 'io.rest-assured', name: 'rest-assured', version: '3.0.0'
	testCompile group: 'io.rest-assured', name: 'json-path', version: '3.0.0'
	testCompile group: 'junit', name: 'junit', version: '4.+'
	testCompile group: 'org.spockframework', name: 'spock-core', version: '1.0-groovy-2.4'
}

mainClassName = 'br.leosilvadev.proxy.ProxyApplication'

shadowJar {
	classifier = 'fat'
}

task wrapper(type: Wrapper) { gradleVersion = '2.8' }